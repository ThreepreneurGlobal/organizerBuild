(this["webpackJsonpsmartnative-organization-frontend"]=this["webpackJsonpsmartnative-organization-frontend"]||[]).push([[32],{111:function(e,s,a){"use strict";var t=a(1),c=(a(6),a(264)),n=a(159),r=a(19);s.a=Object(n.c)((function(e){return Object(r.jsx)(c.a,Object(t.a)({},e))}),{withRef:!1})},116:function(e,s,a){"use strict";a.d(s,"a",(function(){return r})),a.d(s,"b",(function(){return i}));var t=a(1),c=(a(6),a(216)),n=a(19),r=function(e){return Object(n.jsx)(c.a,Object(t.a)(Object(t.a)({},e),{},{widths:["xxs","xs","sm","md","lg","xl","xxl"]}))},i=function(e){var s=e.className;return Object(n.jsx)("div",{className:"separator ".concat(s)})}},123:function(e,s,a){"use strict";var t=a(3),c=a.n(t),n=a(11),r=a(113),i=a(6),l=a(12),o=a(9);s.a=function(e){var s=e.url,a=e.method,t=e.data,j=e.headers,b=e.nextSuccess,d=e.nextError,u=Object(i.useState)(""),O=Object(r.a)(u,2),m=O[0],x=O[1],h=Object(i.useState)(!1),f=Object(r.a)(h,2),p=f[0],N=f[1],v=Object(i.useState)(""),w=Object(r.a)(v,2),g=w[0],P=w[1];return[function(){var e=Object(n.a)(c.a.mark((function e(){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(null),N(!0),e.next=5,Object(l.a)({url:s,method:a,headers:j,data:t});case 5:(n=e.sent).data.success?(b&&b(),N(!1),x(n.data.data)):(d&&d(n.data.error),N(!1),P(n.data.error)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),Object(o.h)(e.t0),N(!1),P(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),p,g,m]}},643:function(e,s,a){"use strict";a.r(s);var t=a(113),c=a(6),n=a(217),r=a(218),i=a(219),l=a(128),o=a(132),j=a(275),b=a(114),d=a(156),u=a(29),O=a(116),m=a(111),x=a(0),h=a(127),f=a(19),p=function(e){var s=e.newPassword,a=e.newPasswordAgain,t={};return a&&s!==a&&(t.newPasswordAgain="Please check your new password"),t};s.default=Object(u.b)((function(e){var s=e.authUser;return{newPassword:s.newPassword,resetPasswordCode:s.resetPasswordCode,loading:s.loading,error:s.error}}),{resetPasswordAction:x.sb})((function(e){var s=e.location,a=e.history,u=e.loading,x=e.error,N=e.resetPasswordAction,v=Object(c.useState)(""),w=Object(t.a)(v,1)[0],g=Object(c.useState)(""),P=Object(t.a)(g,1)[0];Object(c.useEffect)((function(){x?h.b.warning(x,"Forgot Password Error",3e3,null,null,""):u||"success"!==w||h.b.success("Please login with your new password.","Reset Password Success",3e3,null,null,"")}),[x,u,w]);var y={newPassword:w,newPasswordAgain:P};return Object(f.jsx)(n.a,{className:"h-100",children:Object(f.jsx)(O.a,{xxs:"12",md:"10",className:"mx-auto my-auto",children:Object(f.jsxs)(r.a,{className:"auth-card",children:[Object(f.jsxs)("div",{className:"position-relative image-side ",children:[Object(f.jsx)("p",{className:"text-white h2",children:"MAGIC IS IN THE DETAILS"}),Object(f.jsxs)("p",{className:"white mb-0",children:["Please use your e-mail to reset your password. ",Object(f.jsx)("br",{}),"If you are not a member, please"," ",Object(f.jsx)(b.b,{to:"/register",className:"white",children:"register"}),"."]})]}),Object(f.jsxs)("div",{className:"form-side",children:[Object(f.jsx)(b.b,{to:"/",className:"white",children:Object(f.jsx)("span",{className:"logo-single"})}),Object(f.jsx)(i.a,{className:"mb-4",children:Object(f.jsx)(m.a,{id:"user.reset-password"})}),Object(f.jsx)(d.c,{validate:p,initialValues:y,onSubmit:function(e){if(!u){var t=new URLSearchParams(s.search).get("oobCode");t?""!==e.newPassword&&N({newPassword:e.newPassword,resetPasswordCode:t,history:a}):h.b.warning("Please check your email url.","Reset Password Error",3e3,null,null,"")}},children:function(e){var s=e.errors,a=e.touched;return Object(f.jsxs)(d.b,{className:"av-tooltip tooltip-label-bottom",children:[Object(f.jsxs)(l.a,{className:"form-group has-float-label",children:[Object(f.jsx)(o.a,{children:Object(f.jsx)(m.a,{id:"user.new-password"})}),Object(f.jsx)(d.a,{className:"form-control",name:"newPassword",type:"password"})]}),Object(f.jsxs)(l.a,{className:"form-group has-float-label",children:[Object(f.jsx)(o.a,{children:Object(f.jsx)(m.a,{id:"user.new-password-again"})}),Object(f.jsx)(d.a,{className:"form-control",name:"newPasswordAgain",type:"password"}),s.newPasswordAgain&&a.newPasswordAgain&&Object(f.jsx)("div",{className:"invalid-feedback d-block",children:s.newPasswordAgain})]}),Object(f.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(f.jsx)(b.b,{to:"/user/login",children:Object(f.jsx)(m.a,{id:"user.login-title"})}),Object(f.jsxs)(j.a,{color:"primary",className:"btn-shadow btn-multiple-state ".concat(u?"show-spinner":""),size:"lg",children:[Object(f.jsxs)("span",{className:"spinner d-inline-block",children:[Object(f.jsx)("span",{className:"bounce1"}),Object(f.jsx)("span",{className:"bounce2"}),Object(f.jsx)("span",{className:"bounce3"})]}),Object(f.jsx)("span",{className:"label",children:Object(f.jsx)(m.a,{id:"user.reset-password-button"})})]})]})]})}})]})]})})})}))},644:function(e,s,a){"use strict";a.r(s);var t=a(1),c=a(113),n=a(6),r=a(275),i=a(217),l=a(218),o=a(219),j=a(128),b=a(132),d=a(156),u=a(413),O=a(29),m=a(116),x=a(111),h=a(0),f=a(127),p=a(123),N=a(19),v=function(){var e=Object(p.a)({url:"/resendOtp",method:"POST",data:{email:""},nextSuccess:function(){f.b.success("OTP reset Successful!","Verify OTP Success",3e3,null,null,"")}}),s=Object(c.a)(e,1)[0],a=function(){return s()};return Object(N.jsx)(u.a,{date:Date.now()+3e4,renderer:function(e){var s=e.hours,t=e.minutes,c=e.seconds,n=e.completed;return Object(N.jsx)(r.a,{className:"btn-shadow btn btn-primary btn-lg mx-2",onClick:n?a:function(){},disabled:!n,children:n?"Resend OTP":"".concat(Object(u.b)(s),":").concat(Object(u.b)(t),":").concat(Object(u.b)(c))})}})},w=Object(n.memo)(v),g={verifyOTPAction:h.wb};s.default=Object(O.b)((function(e){var s=e.authUser;return{OTP:s.OTP,loading:s.loading,error:s.error}}),g)((function(e){var s=e.history,a=e.loading,u=e.error,O=e.verifyOTPAction,h=Object(n.useState)(""),p=Object(c.a)(h,1)[0];Object(n.useEffect)((function(){u&&f.b.error(u,"OTP Verification Error",3e3,null,null,"")}),[u]);var v={OTP:p};return Object(N.jsx)(i.a,{className:"h-100",children:Object(N.jsx)(m.a,{xxs:"12",md:"10",className:"mx-auto my-auto",children:Object(N.jsxs)(l.a,{className:"auth-card",children:[Object(N.jsxs)("div",{className:"position-relative image-side ",children:[Object(N.jsx)("p",{className:"text-white h2",children:"MAGIC IS IN THE DETAILS"}),Object(N.jsxs)("p",{className:"white mb-0",children:["Please enter the OTP sent to your email. ",Object(N.jsx)("br",{})]})]}),Object(N.jsxs)("div",{className:"form-side",children:[Object(N.jsx)("span",{className:"logo-single"}),Object(N.jsx)(o.a,{className:"mb-4",children:Object(N.jsx)(x.a,{id:"user.verify-otp"})}),Object(N.jsx)(d.c,{initialValues:v,onSubmit:function(e){""!==e.OTP&&O(Object(t.a)(Object(t.a)({},e),{},{history:s}))},children:function(e){var s=e.errors,t=e.touched;return Object(N.jsxs)(d.b,{className:"av-tooltip tooltip-label-bottom",children:[Object(N.jsxs)(j.a,{className:"form-group has-float-label",children:[Object(N.jsx)(b.a,{children:Object(N.jsx)(x.a,{id:"user.otp"})}),Object(N.jsx)(d.a,{className:"form-control",name:"OTP"}),s.OTP&&t.OTP&&Object(N.jsx)("div",{className:"invalid-feedback d-block",children:s.OTP})]}),Object(N.jsxs)("div",{className:"d-flex justify-content-end align-items-center",children:[Object(N.jsx)(w,{}),Object(N.jsxs)(r.a,{color:"primary",className:"btn-shadow btn-multiple-state ".concat(a?"show-spinner":""),size:"lg",children:[Object(N.jsxs)("span",{className:"spinner d-inline-block",children:[Object(N.jsx)("span",{className:"bounce1"}),Object(N.jsx)("span",{className:"bounce2"}),Object(N.jsx)("span",{className:"bounce3"})]}),Object(N.jsx)("span",{className:"label",children:Object(N.jsx)(x.a,{id:"user.verify-otp-button"})})]})]})]})}})]})]})})})}))},653:function(e,s,a){"use strict";a.r(s);var t=a(113),c=a(6),n=a(217),r=a(218),i=a(408),l=a(232),o=a(29),j=a(0),b=a(127),d=a(1),u=a(156),O=a(219),m=a(128),x=a(132),h=a(275),f=a(111),p=a(19),N=function(e){var s;return e?e.length<2&&(s="Value must be longer than 2 characters"):s="Please enter your name",s},v=function(e){var s=Object.assign({},e),a=Object(u.d)(s),c=Object(t.a)(a,2),n=c[0],r=c[1];return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("textarea",Object(d.a)(Object(d.a)({className:"text-area"},n),s)),r.touched&&r.error?Object(p.jsx)("div",{className:"error",children:r.error}):null]})},w=function(e){var s=e.addProfileAction,a=e.history,t=e.currentUser,c=e.initialValues,n=e.loading;return Object(p.jsx)(r.a,{children:Object(p.jsxs)(i.a,{className:"wizard-basic-step",children:[Object(p.jsx)(O.a,{className:"mb-4",children:Object(p.jsx)("h2",{className:"lead",children:Object(p.jsx)(f.a,{id:"user.profile-form"})})}),Object(p.jsx)(u.c,{initialValues:c,onSubmit:function(e){var c=t.id,n=t.phone_number,r=Object(d.a)(Object(d.a)({},e),{},{userID:c,contactNo:n});s({profile:r,history:a})},children:function(e){var s=e.errors,a=e.touched;return Object(p.jsxs)(u.b,{className:"av-tooltip tooltip-label-right",children:[Object(p.jsxs)(m.a,{children:[Object(p.jsx)(x.a,{children:Object(p.jsx)(f.a,{id:"user.org-name"})}),Object(p.jsx)(u.a,{className:"form-control",name:"orgName",validate:N}),s.name&&a.name&&Object(p.jsx)("div",{className:"invalid-feedback d-block",children:s.name})]}),Object(p.jsxs)(m.a,{children:[Object(p.jsx)(x.a,{children:Object(p.jsx)(f.a,{id:"user.full-name"})}),Object(p.jsx)(u.a,{className:"form-control",name:"fullName",validate:N}),s.name&&a.name&&Object(p.jsx)("div",{className:"invalid-feedback d-block",children:s.name})]}),Object(p.jsxs)(m.a,{children:[Object(p.jsx)(x.a,{children:Object(p.jsx)(f.a,{id:"Contact Number"})}),Object(p.jsx)(u.a,{className:"form-control",name:"contactNo"}),s.name&&a.name&&Object(p.jsx)("div",{className:"invalid-feedback d-block",children:s.name})]}),Object(p.jsxs)(m.a,{children:[Object(p.jsx)(x.a,{children:Object(p.jsx)(f.a,{id:"about the organization"})}),Object(p.jsx)(v,{className:"form-control",name:"about",rows:"6"}),s.name&&a.name&&Object(p.jsx)("div",{className:"invalid-feedback d-block",children:s.name})]}),Object(p.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(p.jsxs)(h.a,{color:"primary",type:"submit",className:"btn-shadow btn-multiple-state ".concat(n?"show-spinner":""),size:"lg",children:[Object(p.jsxs)("span",{className:"spinner d-inline-block",children:[Object(p.jsx)("span",{className:"bounce1"}),Object(p.jsx)("span",{className:"bounce2"}),Object(p.jsx)("span",{className:"bounce3"})]}),Object(p.jsx)("span",{className:"label",children:Object(p.jsx)(f.a,{id:"forms.submit"})})]})})]})}})]})})},g=a(116),P=a(114),y=function(e){var s=e.className,a=e.disableNav,t=e.topNavClick,c=function(e,s,a,t){return e.indexOf(s)===a?"step-doing":e.indexOf(s)>a||t.isDone?(t.isDone=!0,"step-done"):"step"};return Object(p.jsx)(l.WithWizard,{render:function(e){e.next,e.previous;var n=e.step,r=e.steps,i=(e.go,e.push);return Object(p.jsx)("ul",{className:"nav nav-tabs ".concat(s).concat(a?" disabled":""),children:r.map((function(e,s){return e.hideTopNav?Object(p.jsx)("span",{},"topNavStep_".concat(s)):Object(p.jsx)("li",{className:"nav-item ".concat(c(r,n,s,e)),children:Object(p.jsxs)(P.b,{to:"#",location:{},className:"nav-link",onClick:function(){return function(e,s){a||t(e,s)}(e,i)},children:[Object(p.jsx)("span",{children:e.name}),Object(p.jsx)("small",{children:e.desc})]})},"topNavStep_".concat(s))}))})}})},k=a(124),S=a(420),A=a(7),T=a(9),C=function(e){var s=e.currentUser,a=Object(k.g)(),t=s.id;console.log(t),Object(S.a)(T.g,[t]);var c=Object(T.f)();return console.log(c),Object(p.jsx)(r.a,{children:Object(p.jsxs)(i.a,{className:"wizard-basic-step text-center",children:[Object(p.jsx)("h2",{className:"mb-2",children:Object(p.jsx)(f.a,{id:"user.content-thanks"})}),Object(p.jsx)("p",{className:"display-4 simple-icon-check"}),Object(p.jsx)("p",{children:Object(p.jsx)(f.a,{id:"user.registered"})}),Object(p.jsx)(h.a,{onClick:function(){return a.push("".concat(A.b,"/profile/about"))},color:"primary",children:"Continue"})]})})},z=function(e){var s=e.className,a=e.onClickPrev,t=e.prevLabel,c=e.onClickNext,n=e.nextLabel,r=e.showPrevious,i=void 0===r||r;return Object(p.jsx)(l.WithWizard,{render:function(e){var r=e.next,l=e.previous,o=e.step,j=e.steps;return Object(p.jsxs)("div",{className:"wizard-buttons ".concat(s),children:[i&&Object(p.jsx)(h.a,{color:"primary",className:"mr-1 ".concat(j.indexOf(o)<=0?"disabled":""),onClick:function(){a(l,j,o)},children:t}),Object(p.jsx)(h.a,{color:"primary",className:j.indexOf(o)>=j.length-1?"disabled":"",onClick:function(){c(r,j,o)},children:n})]})}})},E={addProfileAction:j.bb};s.default=Object(o.b)((function(e){var s=e.authUser;return{loading:s.loading,error:s.error,message:s.message,currentUser:s.currentUser}}),E)((function(e){var s=e.history,a=e.loading,o=e.error,j=e.currentUser,d=e.addProfileAction,u=e.message,O=Object(c.useState)(""),m=Object(t.a)(O,1)[0],x=Object(c.useState)(""),h=Object(t.a)(x,1)[0],f=Object(c.useState)(""),N=Object(t.a)(f,1)[0],v=Object(c.useState)(""),P=Object(t.a)(v,1)[0];Object(c.useEffect)((function(){o&&b.b.error(o,"Profile Add Error",3e3,null,null,""),a||"profile-add-success"!==u||b.b.success("Click next","Profile Added Successfully",3e3,null,null,"")}),[a,o,u]);var k={orgName:m,fullName:h,contactNo:N,about:P};return Object(p.jsx)(n.a,{className:"h-100",children:Object(p.jsx)(g.a,{xxs:"12",md:"8",className:"mx-auto my-auto wizard wizard-default",children:Object(p.jsxs)(l.Wizard,{children:[Object(p.jsx)(y,{className:"justify-content-around",disableNav:!1,topNavClick:function(e,s){s(e.id)}}),Object(p.jsxs)(l.Steps,{children:[Object(p.jsx)(l.Step,{id:"profile-form",children:Object(p.jsx)(w,{addProfileAction:d,history:s,currentUser:j,initialValues:k,loading:a,message:u})}),Object(p.jsx)(l.Step,{id:"thank-you",children:Object(p.jsx)(C,{currentUser:j})})]}),Object(p.jsx)(r.a,{className:"mt-4",children:Object(p.jsx)(i.a,{children:Object(p.jsx)(z,{className:"justify-content-end",onClickNext:function(e,s,a){a.isDone=!0,s.length-1<=s.indexOf(a)||e()},nextLabel:"Next",showPrevious:!1})})})]})})})}))}}]);
//# sourceMappingURL=user-reset-password.dcf6531f.chunk.js.map